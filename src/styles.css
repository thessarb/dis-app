:root.theme-light {
  --bg: #f4f3f6;
  --surface: #ffffff;
  --muted: #60636a;
  --text: #0f1115;
  --accent: #b22222; /* firebrick / crimson-ish */
  --accent-2: #dc143c;
  --glass: rgba(255,255,255,0.06);
}

:root.theme-dark {
  --bg: #0b0b0c; /* very dark grey */
  --surface: #111214;
  --muted: #9aa0a6;
  --text: #e9eef2;
  --accent: #ff4d4d; /* bright crimson accent */
  --accent-2: #dc143c;
  --glass: rgba(255,255,255,0.03);
}

* { box-sizing: border-box; }
html,body,#app { height: 100%; }
body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  /* keep gradients but also set an explicit background-color so it can transition */
  background: radial-gradient(1200px 600px at 10% 10%, rgba(220,20,60,0.05), transparent),
              radial-gradient(900px 400px at 90% 90%, rgba(178,34,34,0.04), transparent),
              var(--bg);
  background-color: var(--bg);
  color: var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

#app { display:flex; height:100vh; }

/* app shell layout */
.app-shell { display:flex; flex:1; height:100vh }

/* default sidebar styling for desktop - fixed left column */
aside.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: 220px;
  display: flex;
  flex-direction: column;
  border-right: 1px solid rgba(0,0,0,0.12);
  padding: 1rem;
  /* use the theme surface variable to make the sidebar opaque */
  background: var(--surface);
  transform: none;
  /* subtle elevation */
  box-shadow: 8px 0 30px rgba(2,6,23,0.06);
}

/* ensure main content doesn't go under the fixed sidebar; take full viewport height */
main {
  margin-left: 220px;
  min-height: 100vh;
  height: 100vh;
  box-sizing: border-box;
}

/* allow sidebar content to scroll when long */
aside.sidebar { overflow: auto }

/* fallback for any plain aside tags */
aside { padding: 1rem; }

aside h3 { margin: 0 0 0.75rem 0; font-size: 1.05rem; letter-spacing:0.2px }

button {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  color: var(--text);
  cursor: pointer;
  transition: all 180ms ease;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.12);
}

.btn-accent {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: white;
  border: none;
}

.sidebar-list button { width:100%; text-align:left; background: transparent; border: none; padding:8px 6px; border-radius:6px }
.sidebar-list button:hover { background: linear-gradient(90deg, rgba(255,77,77,0.12), rgba(220,20,60,0.06)); }

main { background: transparent; padding: 1.25rem; flex:1; overflow:auto }

/* Transitions for smooth theme switching */
body, main, aside.sidebar, .card, .login, button {
  transition: background-color 320ms ease, color 320ms ease, border-color 320ms ease, box-shadow 320ms ease;
}

/* Slight transition on accent changes */
.btn-accent { transition: background 320ms ease, color 320ms ease }

.card { background: var(--surface); border-radius: 12px; padding: 1rem; box-shadow: 0 6px 20px rgba(2,6,23,0.18); }

.diabetes { display:block; width: 100% !important; max-width: none !important; box-sizing: border-box }
.diabetes.card { display:block; width: 100% !important; max-width: none !important; box-sizing: border-box }

/* Ensure any card directly inside main stretches to full width */
main > .card { width: 100%; box-sizing: border-box }
.diabetes h3 { font-size: 1.2rem; margin-bottom: 0.75rem }
.diabetes .field { margin-bottom: 1rem; display:flex; flex-direction:column; gap:0.5rem }
.diabetes .field label { font-weight:600; font-size:1.02rem }
.diabetes .options { display:flex; flex-direction:column; gap:0.5rem }
.diabetes .options label { display:flex; align-items:center; gap:0.6rem }
.diabetes input[type="number"] { width:160px; padding:0.5rem; border-radius:8px; border:1px solid rgba(0,0,0,0.08) }

.result .total-score {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: white;
  padding: 0.6rem 0.9rem;
  border-radius: 10px;
  font-weight:700;
  min-width:48px;
  text-align:center;
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}

/* Note box for risk explanations */
.note-box { border-radius:12px; padding:12px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02)); border:1px solid rgba(255,255,255,0.04); }
.note-list { display:flex; flex-direction:column; gap:10px }
.note-item { display:flex; gap:12px; align-items:flex-start; padding:8px; border-radius:8px }
.note-item.active { background: linear-gradient(90deg, rgba(255,77,77,0.08), rgba(220,20,60,0.04)); box-shadow: 0 6px 18px rgba(0,0,0,0.06) }
.note-badge { width:12px; height:12px; border-radius:4px; margin-top:6px; flex:0 0 auto }


.login {
  max-width:520px;
  margin:3rem auto;
  padding:2rem;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
  border: 1px solid rgba(255,255,255,0.04);
}

.login input { width:100%; padding:0.6rem; border-radius:8px; border:1px solid rgba(0,0,0,0.06); margin-top:6px }

.header-top { display:flex; align-items:center; justify-content:space-between }

.theme-toggle { padding:6px 8px; border-radius:999px; display:inline-flex; gap:8px; align-items:center }

/* small responsive tweaks */
@media (max-width:900px) {
  /* On small screens the sidebar becomes overlayed and controlled by the hamburger button */
  #app { flex-direction:column }

  aside.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: 260px;
    transform: translateX(-100%);
    transition: transform 220ms ease;
    z-index: 1002;
    box-shadow: 8px 0 30px rgba(2,6,23,0.45);
    /* opaque overlay background using theme surface */
    background: var(--surface);
  }

  aside.sidebar.open {
    transform: translateX(0);
  }

  main { padding:1rem; margin-left: 0; width: 100%; height: 100vh }

  .hamburger {
    display:flex;
    position:fixed;
    left:18px;
    bottom:18px;
    z-index:1003;
    border:none;
    width:56px;
    height:56px;
    border-radius:999px;
    background: linear-gradient(90deg,var(--accent),var(--accent-2));
    color:white;
    box-shadow: 0 10px 30px rgba(0,0,0,0.28);
    cursor:pointer;
    align-items:center;
    justify-content:center;
    font-size:20px;
  }
}

.hamburger:active { transform: translateY(1px) }

/* hide the floating hamburger while sidebar is open */
aside.sidebar.open ~ .hamburger { display: none }

.sidebar-backdrop { position:fixed; inset:0; background: rgba(0,0,0,0.36); z-index:1001 }

/* make the sidebar-top grow so footer stays pinned to bottom */
.sidebar-top { display:flex; flex-direction:column; gap:12px; flex:1; overflow:auto }

.sidebar-footer { border-top: 1px solid rgba(255,255,255,0.03); padding-top:12px; margin-top: auto }
.user-info { display:flex; flex-direction:column; gap:6px }
.user-label { font-size:0.85rem; color:var(--muted) }
.user-row { display:flex; align-items:center; gap:8px }
.user-name { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; display:inline-block; flex:1; min-width:0 }
.logout-btn { padding:6px 8px; border-radius:8px; flex:0 0 auto }
